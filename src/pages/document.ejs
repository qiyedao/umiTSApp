<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Your App</title>
  <link rel="icon" type="image/x-icon" href="<%= context.config.publicPath %>assets/favicon.jpeg" />
  <script src="<%= context.config.publicPath %>appConfig.js"></script>
  <script>
    let publicPath = '<%= context.config.publicPath %>'
    console.log('publicPath', publicPath);
  </script>
</head>

<body>
  <div id="root"></div>
  <script>
    const WIDTH = 375; //设计稿尺寸
    //  由于安卓取的宽高有时未必是有效值，所以此处取最大的(用于遮罩层)
    function getMaxValue(num1, num2, num3) {
      var value = 0;
      if (num1 >= num2) {
        value = num1;
      } else {
        value = num2;
      }
      // if (value < num3) {
      //   value = num3;
      // }
      return value;
    }
    const setFontSize = () => {
      // var scrollHeight = getMaxValue(
      //   document.documentElement.clientHeight,
      //   document.body.clientHeight,
      //   window.screen.height,
      // );
      var scrollwidth = getMaxValue(
        document.documentElement.clientWidth,
        window.screen.width,
      );
      console.log(scrollwidth, 'scrollwidth');

      document.documentElement.style.fontSize =
        (100 * scrollwidth) / WIDTH + 'px';
    }
    const setView = () => {
      setTimeout(function () {
        setFontSize()
      }, 1000 / 24);
    };
    setView();
    window.addEventListener(
      'onorientationchange' in window ? 'orientationchange' : 'resize',
      setView,
      false,
    );

  </script>
</body>

</html>